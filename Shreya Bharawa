class Tree:
    pass

class Leaf(Tree):
    pass

class Branch(Tree):
    def __init__(self, left, right):
        self.left = left
        self.right = right

def treeToParens(tree):
    if isinstance(tree, Leaf):
        return "()"
    left_parens = treeToParens(tree.left)
    right_parens = treeToParens(tree.right)
    return "(" + left_parens + ")" + "(" + right_parens + ")"

def parensToTree(parens):
    def helper(index):
        if parens[index] == ")":
            return None, index
        left, index = helper(index+1)
        index += 1  # skip ')'
        right, index = helper(index+1)
        index += 1  # skip ')'
        return Branch(left, right), index
    return helper(1)[0]
